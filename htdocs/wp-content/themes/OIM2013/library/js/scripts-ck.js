/*
Bones Scripts File
Author: Eddie Machado

This file should contain any js scripts you want to add to the site.
Instead of calling it in the header or throwing it inside wp_head()
this file will be called automatically in the footer so as not to
slow the page load.

*/// IE8 ployfill for GetComputed Style (for Responsive Script below)
window.getComputedStyle||(window.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;t=="float"&&(t="styleFloat");n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()}));return e.currentStyle[t]?e.currentStyle[t]:null};return this});jQuery(document).ready(function(e){function r(e){exceptions=new Array(48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,46,8,9);for(i in exceptions){allow_key=!1;if(e.keyCode==exceptions[i]){allow_key=!0;break}}allow_key||e.preventDefault()}function s(t){if(e(t).val()!==e(t).data("placeholder"))return!0;e(t).css({background:"#B32C32",color:"white"});return!1}function o(t){var n=e(t).val().indexOf("@"),r=e(t).val().indexOf("."),i=e(t).val().lastIndexOf("."),s=e(t).val().length-1,o=e(t).val().indexOf("@",n+1);if(e(t).val()===e(t).data("placeholder")){e(t).css({background:"#B32C32",color:"white"});return!1}if(n<0){e(t).css({background:"#B32C32",color:"white"});return!1}if(n===0){e(t).css({background:"#B32C32",color:"white"});return!1}if(r<0){e(t).css({background:"#B32C32",color:"white"});return!1}if(i<n){e(t).css({background:"#B32C32",color:"white"});return!1}if(i>=s){e(t).css({background:"#B32C32",color:"white"});return!1}if(o>0){e(t).css({background:"#B32C32",color:"white"});return!1}return!0}var t=e(window).width();t<481;t>481;t>=768&&e(".comment img[data-gravatar]").each(function(){e(this).attr("src",e(this).attr("data-gravatar"))});t>1030;var n=0;e(".searchicon").click(function(){if(n===0){e("#the-search").css("display","block");e("#the-search").animate({opacity:"1"},"fast");n=1}else{e("#the-search").animate({opacity:"0"},"fast",function(){e("#the-search").css("display","none")});n=0}});e(".mega-parent").each(function(){e(this).mouseenter(function(){e(this).find(".parent-a").css("color","#ffffff")});e(this).mouseleave(function(){e(this).find(".parent-a").css("color","")})});e(".sf-menu li").live("mouseenter",function(){e("#the-search").css("display","none");n=0});e("ul.sf-menu").superfish();e(".secondary-link").each(function(){e(this).live("mouseenter",function(){e(this).find(".flyout").addClass("expand")});e(this).live("mouseleave",function(){e(this).find(".flyout").removeClass("expand")})});e("#scroller").simplyScroll();e(".mobile-item").live("mouseenter",function(){e(this).find("a").css("color","#ffffff")});e(".mobile-item").live("mouseleave",function(){e(this).find("a").css("color","")});e("#menu-mobile").live("mouseenter",function(){e(this).css("cursor","pointer")});e("#menu-mobile").live("click",function(){e("#mobile-menu-holder").slideToggle("fast")});e(window).resize(function(){e(window).width()>=768&&e("#mobile-menu-holder").css("display","none")});e(".sidebar-select").click(function(){e(".sidebar-select-list").toggleClass("hidden")});e("input, textarea").bind({focus:function(){e(this).removeAttr("style");e(this).is("input")?e(this).data("placeholder")===e(this).val()&&e(this).val(""):e(this).is("textarea")&&e(this).data("placeholder")===e(this).html()&&e(this).html("")},blur:function(){e(this).is("input")?e(this).val().trim()===""&&e(this).val(e(this).data("placeholder")):e(this).is("textarea")&&e(this).html().trim()===""&&e(this).html(e(this).data("placeholder"))}});if(e("#contact-form").length>0){e("#number").bind("keydown",r);function u(){var e=s("#name"),t=o("#email"),n=s("#topic");if(e&&t&&n)return!0;alert("Please fill in all the required form fields correctly before submitting");return!1}function a(e){var t=e.trim();t==="success"?window.location=php_data.thankyou_page:alert(e);console.log(e)}e("#contact-form").ajaxForm({url:template_data.directory+"/library/scripts/mail.execute.php",type:"post",beforeSubmit:u,success:a,resetForm:!0})}});(function(e){function c(){n.setAttribute("content",s);o=!0}function h(){n.setAttribute("content",i);o=!1}function p(t){l=t.accelerationIncludingGravity;u=Math.abs(l.x);a=Math.abs(l.y);f=Math.abs(l.z);!e.orientation&&(u>7||(f>6&&a<8||f<8&&a>6)&&u>5)?o&&h():o||c()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var t=e.document;if(!t.querySelector)return;var n=t.querySelector("meta[name=viewport]"),r=n&&n.getAttribute("content"),i=r+",maximum-scale=1",s=r+",maximum-scale=10",o=!0,u,a,f,l;if(!n)return;e.addEventListener("orientationchange",c,!1);e.addEventListener("devicemotion",p,!1)})(this);